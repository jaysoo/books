<div class="book-details" ng-show="mode == 'show'">
  <h2>
    <a class="favourite" ng-click="addToFavourites(currentUser, book)" ng-hide="isFavourited">
      <i class="fa fa-star-o"></i>
    </a>
    <a class="favourite" ng-click="removeFromFavourites(currentUser, book)" ng-show="isFavourited">
      <i class="fa fa-star"></i>
    </a>
    {{book.title}}
  </h2>

  <p>{{book.author}}</p>
  <p>{{book.meta.url}}</p>

  <h4>
    Attachments
  </h4>

  <ul class="unstyled">
    <li ng-repeat="attachment in book.attachments">
      <i class="fa fa-paperclip"></i>
      <a ng-href="{{attachment.url}}" target="_blank">{{attachment.name}}</a>
    </li>
  </ul>

  <button class="btn" ng-click="showEdit()">
    <i class="fa fa-pencil"></i>
    Edit
  </button>
  <button class="btn btn-danger" ng-click="deleteBook(book)">
    <i class="fa fa-minus-circle"></i>
    Delete
  </button>
</div>

<form class="form form-horizontal" ng-submit="updateBook(book)" ng-show="mode == 'edit'">
  <h2>Edit book</h2>

  <div class="control-group">
    <label class="control-label">
      Title:
    </label>
    <div class="controls">
      <input type="text" ng-model="book.title" />
    </div>
  </div>

  <div class="control-group">
    <label class="control-label">
      Author:
    </label>
    <div class="controls">
      <input type="text" ng-model="book.author" />
    </div>
  </div>

  <div class="control-group">
    <label class="control-label">
      Attachments:
    </label>
    <div class="controls">
      <ul class="unstyled">
        <li ng-repeat="attachment in book.attachments">
          <a ng-href="{{attachment.url}}" download>{{attachment.name}}</a>
          <a ng-click="removeAttachment(attachment)">
            <i class="fa fa-times"></i>
          </a>
        </li>
      </ul>
      <a ng-click="attachFile(book)">
        <i class="fa fa-plus-circle"></i>
        Attach file
      </a>
    </div>
  </div>

  <button class="btn btn-success" type="submit">
    <i class="fa fa-check"></i>
    Save
  </button>
  <button class="btn" ng-click="hideEdit()">
    Cancel
  </button>
</form>
